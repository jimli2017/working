<!--
  Generated template for the MineRepairHistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>我的维修记录</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div style="height: 14%;background: #16b2ff;display: flex;padding: 10px 32px 10px 32px;text-align: center">

    <div style="height: auto;width: 33%;" (tap)="changeDate()">
      <label>维修日期
        <img src="assets/icon/down.png" style="float:none;">
      </label>
      <p style="font-size: 20px">{{date}}</p>
    </div>

    <div style="height: auto;width: 33%;padding: 2px">
      <label>总工时(小时)</label>
      <p style="font-size: 20px">{{totalHours}}</p>
    </div>

    <div style="float: right;height: auto;width: 33%;padding: 2px">
      <label>总单数</label>
      <p style="font-size: 20px">{{orderNum}}</p>
    </div>
  </div>
  <br>
  <br>
  <ion-card *ngFor="let item of list; let i=index" style="background: #f9f9f9" (click)="goDetail($event,i)">
    <ion-card-header>
      <span style="margin-left: 5px">{{item.deviceName}}</span>
      <span [ngStyle]="{'color':item.state ===1?'#3639ff':item.state ===2?'#fd39be':'#000000'}" class="myspan">共{{item.hour}}小时</span>
    </ion-card-header>

    <hr style="color: #000000;margin: 0px 5px 0px 5px;">

    <ion-card-content>
      <p>
        <label>维修人员</label>
        <span>我</span>
      </p>
      <p>
        <label>维修单号</label>
        <span>{{item.deviceNo}}</span>
      </p>
      <div>
        <img src="assets/icon/next.png" style="float: right;">
      </div>
      <p>
        <label>开始时间</label>
        <span>{{item.startTime}}</span>
      </p>
      <p>
        <label>完成时间</label>
        <span [ngStyle]="{'background':item.level===1?'red':item.level===2?'blue':'green'}" style="color: white;padding: 2px">{{item.endTime}}</span>
      </p>
    </ion-card-content>
  </ion-card>
</ion-content>
